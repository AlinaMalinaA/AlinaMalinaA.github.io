<html>
     <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
		var array = [['place' ,'Кошкин','Бухмастов','Гатауллина','Мелихов','Иванова','Клевцова','Пика','Кривобокова','Смелая','Сериков','Ахмедова','Володин','Соломатина','Джаманкулов','Закиров','Абрамова','Дурыманов','Наумов','Огоров','Кубанычбекова','Лоскутов','Грибанов','Несговорова','Григорьева','Алексеева','Занозин','Пастухов','Чернова','Коккарева','Жеглов','Мошулдаева','Кириленко','Пивоварова','Шадрин','Костенко','Меркушев','Осетров','Худояров','Мба','Беляев','Сколдинов','Черных','Ильина','Макаренко','Сулаймонов','Пантиховская','Лукасик','Асманов','Лебедев','Нестеров','Васильева','Зотов','Корякин','Гафарова','Агеев','Юргенсон','Саляев','Редчиц','Дорофеев','Кулижников','Власенко','Мамонова','Капкаев','Ловцев','Пономарев','Сидоров','Игумнов','Отсенге','Булатова'],['10.11.2018',24,8,25,49,48,43,30,40,20,37,42,11,47,44,46,7,26,40,35,36,9,10,15,28,49,41,47,42,48,46,23,44,38,49,34,49,22,45,37,4,14,32,29,5,39,31,44,27,48,13,6,12,16,47,33,17,28,46,21,3,43,1,2,36,45,18,50,46,19],['11.11.2018',24,8,25,49,51,51,30,40,20,37,42,11,51,51,46,7,26,51,35,51,9,10,15,28,51,41,51,51,48,51,23,51,38,51,34,51,22,45,51,4,14,32,29,5,39,31,44,27,51,13,6,12,16,47,33,17,51,51,21,3,43,1,2,36,51,18,50,51,19],['12.11.2018',24,8,25,45,49,44,30,40,20,37,42,11,48,45,50,7,26,51,35,37,9,10,15,28,50,41,48,43,44,47,23,45,38,50,34,51,22,49,38,4,14,32,29,5,39,31,46,27,49,13,6,12,16,52,33,17,29,47,21,3,43,1,2,36,46,18,52,47,19],['13.11.2018',24,10,25,45,51,51,30,40,20,37,42,11,51,51,49,9,26,51,35,51,8,7,15,28,51,41,52,51,44,51,23,51,38,51,34,51,22,50,51,3,14,32,29,2,39,31,46,27,51,13,6,12,16,52,33,17,51,51,21,5,43,1,4,36,51,18,52,52,19],['14.11.2018',24,10,25,52,49,44,30,40,20,37,42,11,48,36,52,9,26,51,35,31,8,7,15,28,50,41,52,43,52,52,23,45,38,44,34,51,22,52,33,3,14,32,29,2,39,31,52,27,43,13,6,12,16,52,33,17,24,47,21,5,52,1,4,36,46,18,52,52,19],['16.11.2018',24,11,26,52,51,51,31,40,15,37,42,5,51,51,52,7,27,51,29,51,10,9,16,28,51,41,52,51,52,51,23,51,38,51,35,51,22,52,51,3,14,33,30,2,39,32,52,25,51,13,8,12,17,52,34,19,51,51,21,6,52,1,4,36,51,20,52,52,18],['17.11.2018',25,11,27,52,52,52,32,41,15,38,42,5,52,51,52,7,28,51,23,51,10,9,16,29,52,37,33,52,52,51,24,52,39,51,36,51,22,52,51,3,14,34,31,2,40,33,52,26,51,13,8,12,17,52,35,19,51,52,21,6,52,1,4,30,52,20,52,39,18],['21.11.2018',26,12,34,24,52,52,32,52,15,46,52,8,52,51,52,10,35,51,28,51,5,3,16,30,52,44,33,52,23,51,25,52,52,51,48,51,21,52,51,2,13,42,31,1,52,41,52,27,51,11,4,14,20,36,43,22,51,52,18,9,52,6,7,40,52,19,52,39,17],['24.11.2018',26,12,34,24,52,52,32,52,15,46,52,3,52,51,52,10,35,51,28,51,6,4,16,30,52,44,27,52,23,51,25,52,52,51,48,51,18,52,51,2,13,42,31,1,52,41,52,27,51,11,5,14,21,36,43,22,51,52,19,9,52,7,8,40,52,20,52,32,17],['28.11.2018',28,12,39,14,51,51,38,52,16,49,52,3,51,51,52,10,40,51,34,51,6,4,17,35,51,48,51,51,18,51,26,51,52,51,52,51,20,52,51,2,13,46,37,1,52,45,52,29,51,11,5,15,23,30,47,25,51,51,21,9,52,7,8,42,51,22,52,51,19]];
	
        var isSelected = false;
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
		
        var data = google.visualization.arrayToDataTable(array);

        var options = {
          title: 'IKT',
          curveType: 'function',
          legend: { position: 'right' },
			vAxis: {
				viewWindow:{
					max:50,
					min:0
				},
				direction: '-1'
			},
			yAxis: {
				gridlines: { color: "black" } 
			}
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);
		
		
		var names = array[0];
		// console.log(names);
		var number = 60;
		for (var name of names){
			// console.log(name);
			if (name == "Абрамова") {
				// console.log("!!!!!");
				number = names.indexOf("Абрамова") - 1;
				}
		}
		
		options.series = {}


		
		// options.series[number] = {color: 'black'};
		chart.draw(data, options);
		progres();
      }
	  
	  function checkIt(){
		N = document.getElementById("TEXTBOX_ID").value
		var names = array[0];
		for (var name of names){
			// console.log(name.toLowerCase() , N.toLowerCase(), name.toLowerCase() == N.toLowerCase())
			if ((name.toLowerCase() == N.toLowerCase()) || (name.toLowerCase().indexOf(N.toLowerCase()) == 0))  {
				// console.log("!!!")
				
				
				document.getElementById("1").innerHTML="";
				
				
				var data = google.visualization.arrayToDataTable(array);

        var options = {
          title: 'IKT',
          curveType: 'function',
          legend: { position: 'right' },
			vAxis: {
				viewWindow:{
					max:50,
					min:0
				},
				direction: '-1'
			},
			yAxis: {
				gridlines: { color: "black" } 
			}
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

		
		
		options.series = {}

				var number = 60;
				
				
				number = names.indexOf(name) - 1;
				var len = names.length
				var i = 0
				while (i < len+1) {
					if (i == number) {
						options.series[i] = {color: 'black'}; }
					else {
						options.series[i] = {color: '#eadfa6'}; }
					i ++
				}
				
				
				chart.draw(data, options);
				isSelected = true;
				break;
				}
			else {
				
				document.getElementById("1").innerHTML="ноуп";
				if (isSelected) {
				var data = google.visualization.arrayToDataTable(array);

        var options = {
          title: 'IKT',
          curveType: 'function',
          legend: { position: 'right' },
			vAxis: {
				viewWindow:{
					max:50,
					min:0
				},
				direction: '-1'
			},
			yAxis: {
				gridlines: { color: "black" } 
			}
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);
				isSelected = false;
				}
				
			}
		}
	  }
	  
		function train(x) {
			var date = new Date;
			if (document.getElementById(x).checked) date.setDate(date.getDate() + 30);
			else date.setDate(date.getDate() - 1);
			document.cookie = x+"=1"+"; path=/; expires= " + date.toUTCString();
			progres();
		}
		
		function progres() {
			var q = 0;
			
			for (i = 1; i < 15; i++) {
				if (getCookie(i)!=null) {
					document.getElementById(i).checked=true;
					q++;
				}
			}
			if (q>0){
				var temp = Math.round((+q/13)*100 * 10) / 10;
				
				document.getElementById("prog").innerHTML="Прогресс "+ temp+ "%";
				if (temp<51) document.getElementById("prog").style.color = "red";
				else {
					if (temp<81) document.getElementById("prog").style.color = "#ff5a00";
					else document.getElementById("prog").style.color = "green";
				}
			}
		
		}
		
		
		function getCookie(name) {
			var cookie = " " + document.cookie;
			var search = " " + name + "=";
			var setStr = null;
			var offset = 0;
			var end = 0;
			if (cookie.length > 0) {
				offset = cookie.indexOf(search);
				if (offset != -1) {
					offset += search.length;
					end = cookie.indexOf(";", offset)
					if (end == -1) {
						end = cookie.length;
					}
					setStr = unescape(cookie.substring(offset, end));
				}
			}
			return(setStr);
		}
	  
	  
	  
    </script>
  </head>
  <body>
		
  
  
  
  <div>
	Введи свою фамилию: <input type="text" id="TEXTBOX_ID" oninput="checkIt()"><div id="1"></div></div>
    <div id="curve_chart" style="width: 100%; height: 100%"></div>
	Проверь, сколько осталось! (Используются куки, для расчета прогресса - нажимать на чекбоксы)
	<div id="prog">  </div>
	<table>
		<tr style="">
			<td style="background-color: #fff47275; width: 30%;">K3415</td>
			<td style="background-color: #ff727275;">Общее</td>
			<td style="background-color: #72a4ff75; width: 20%;">K3420</td>
		</tr><tr>
			<td style="background-color: #fff47275;">
			Дубаков: 
			<ul>
			
			<li><input type="checkbox" id="1" onchange="train(1)"> Реферат в печатном виде
			<ul>
			<li><input type="checkbox" id="2" onchange="train(2)"> Презентация по реферату 
			</ul>
			<li><input type="checkbox" id="3" onchange="train(3)"> 4 модуля по курсу Veeam: 
			<ul>
			<li> Перевод в виде краткого конспекта модуля 
			<li> Скриншоты выполненных заданий после модуля (и в модуле)
			</ul>
			<li> 12 декабря тест по ВИМУ и рубежка!
			<li><input type="checkbox" id="14" onchange="train(14)"> 13 упражнений после лекций до 12 декабря!  
			
			</ul>
			</td>
			<td style="background-color: #ff727275;">
			Гуревич: 
			<ul>
			<li>
			<input type="checkbox" id="4" onchange="train(4)">бизнес-план 
			</ul>
			Иванов: 
			<ul>
			<li><input type="checkbox" id="5" onchange="train(5)">8 лаб
			</ul>
			Ананченко: 
			<ul>
			<li><input type="checkbox" id="6" onchange="train(6)"> 6 лаб по винде
			<li><input type="checkbox" id="7" onchange="train(7)"> 5 лаб по линуксу
			<li><input type="checkbox" id="8" onchange="train(8)"> реферат
			<li><input type="checkbox" id="9" onchange="train(9)">два теста на сайте
			</ul>
			Мультимедия: 
			<ul><li><input type="checkbox" id="10" onchange="train(10)">реферат</ul>
			ПО(нусечка): 
			<ul><li><input type="checkbox" id="11" onchange="train(11)">5 лаб, 
			<li><input type="checkbox" id="12" onchange="train(12)">домашка</ul>
			<br>Облачные(Ира): 
			<ul><li><input type="checkbox" id="13" onchange="train(13)">5 лаб</ul>
			</td>
			<td style="background-color: #72a4ff75;">
			? (Напишите мне, добавлю и вашу домашку)
			
			
			
			
			</td>
		</tr>
	</table>
	
  </body>
</html>  